[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Stocks",
    "section": "",
    "text": "1 Introduction\nWe want to understand how COVID-19 reshaped the movie industry. Since the pandemic began, the movie industry has experienced theater closures, the rise of streaming, and widespread uncertainty. In this project, we explore these changes by analyzing both the operational side and the financial side (stock performance of publicly traded movie companies) of the movie industry. We further divided the movie industry into sub-industries of theaters, studios, streaming platforms, and diversified media. By looking inside the movie industry itself and comparing the movie industry to other sectors of the market, we showcase how the industry evolved before, during, and after the pandemic.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Introduction</span>"
    ]
  },
  {
    "objectID": "data.html",
    "href": "data.html",
    "title": "2  Data",
    "section": "",
    "text": "2.1 Description\nOur project uses three datasets that draw on two sources of data. The first dataset comes from Box Office Mojo, which reports domestic box office performance based on revenue submitted by studios and theater chains (https://www.boxofficemojo.com/year/?ref_=bo_nb_di_secondarytab). We scraped the site’s annual summary table using pandas.read_html(), which includes total box office, year-over-year percent change, number of releases, and the highest-grossing film for each year. The full scraping workflow is documented in data-raw/movie-boxoffice.ipynb.\nThe second dataset is made up of stock prices of publicly traded movie-industry companies from the year 2019-01-01 to 2025-11-30. We pulled the data from Yahoo Finance using the yfinance package. Our movie-industry companies include major theater chains (AMC, CNK, IMAX), legacy studios (Disney, Comcast, Paramount/Sky, Warner Bros. Discovery, Fox), streaming platforms (Netflix, Roku), and diversified media (SONY). We also added the S&P 500 index for benchmarking. Yahoo Finance provides daily open, high, low, close, adjusted close, and volume data, which we used to compute returns, volatility, and drawdowns. The full code for downloading and transforming this dataset is in data-raw/movie-stocks.ipynb.\nThe third dataset extends the financial view by pulling data on a few broad sector ETFs from Yahoo Finance, allowing us to compare movie-industry companies to the overall market and other major sectors. This data was also downloaded and cleaned in data-raw/movie-stocks.ipynb.\nAll datasets were collected and ran through Jupyter Notebooks stored in the data-raw/ folder. We exported these datasets as cleaned csv in the data folder to ensure reproducibility. The main limitations are that Box Office Mojo occasionally changes its HTML structure, and Yahoo Finance’s API can return missing values, but both sources are widely used and generally reliable for exploratory analysis.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Data</span>"
    ]
  },
  {
    "objectID": "data.html#missing-value-analysis",
    "href": "data.html#missing-value-analysis",
    "title": "2  Data",
    "section": "2.2 Missing value analysis",
    "text": "2.2 Missing value analysis\nThe movie/media prices dataset has almost complete data. The only thing missing is the extra features created, and only about 2% of rows are missing vol_21d, and a smaller share (around 0.2%) is missing return. For the columns with missing values, such as the Volume or Close, the missingness plot shows that these mostly show up together. This implies that for a handful of dates, the whole price record is absent.\nFor the sector ETF data, the story is very similar. All of the core price and identifier columns are complete, and the only missing values show up in vol_21d and a few return entries. So during the analysis and graphing, it’s reasonable to either drop these rows.\nFor the box-office table, there are no missing values at all.\n\n2.2.1 Missing Value Analysis\nDescribe any patterns you discover in missing values. If no values are missing, graphs should still be included showing that.\n(suggested: 2 graphs plus commentary)\n\n\nCode\n#load the three datasets and tidyverse package\nlibrary(tidyverse)\n\n\n### --- Load & clean Media data ---\nmedia &lt;- read_csv(\"data/movie_media_clean.csv\", show_col_types = FALSE) |&gt;\n  mutate(Date = as.Date(Date))\n\n# --- Load & clean Sector ETFs ---\nsectors &lt;- read_csv(\"data/sector_etfs_clean.csv\", show_col_types = FALSE) |&gt;\n  mutate(Date = as.Date(Date))\n\n# --- Load Box Office Data ---\nbox_office &lt;- read_csv(\"data/box_office.csv\", show_col_types = FALSE)\n# use mutate(Date = ...) here only if box_office contains a date column\n\nlibrary(redav)\n\np_media   &lt;- plot_missing(media,   num_char = 4)\np_sectors &lt;- plot_missing(sectors, num_char = 4)\np_box     &lt;- plot_missing(box_office, num_char = 4)\n\np_media\n\n\n\n\n\n\n\n\n\nCode\np_sectors\n\n\n\n\n\n\n\n\n\nCode\np_box\n\n\n\n\n\n\n\n\n\n\n\nCode\nlibrary(tidyverse)\nlibrary(scales)\n\n# sectors\nmissing_summary_sectors &lt;- sectors |&gt;\n  summarise(across(everything(), ~ mean(is.na(.)))) |&gt;\n  pivot_longer(everything(),\n               names_to = \"variable\",\n               values_to = \"prop_missing\")\n\n# media\nmissing_summary_media &lt;- media |&gt;\n  summarise(across(everything(), ~ mean(is.na(.)))) |&gt;\n  pivot_longer(everything(),\n               names_to = \"variable\",\n               values_to = \"prop_missing\")\n\n# box office\nmissing_summary_box &lt;- box_office |&gt;\n  summarise(across(everything(), ~ mean(is.na(.)))) |&gt;\n  pivot_longer(everything(),\n               names_to = \"variable\",\n               values_to = \"prop_missing\")\n\n\n\n\nCode\nlibrary(tidyverse)\nlibrary(scales)\n\n# example: sectors data (do the same for media, box_office)\nmissing_summary_sectors &lt;- sectors |&gt;\n  summarise(across(everything(), ~ mean(is.na(.)))) |&gt;\n  pivot_longer(everything(),\n               names_to = \"variable\",\n               values_to = \"prop_missing\")\n\nggplot(missing_summary_sectors,\n       aes(x = fct_reorder(variable, prop_missing),\n           y = prop_missing)) +\n  geom_col(fill = \"steelblue\") +\n  coord_flip() +\n  scale_y_continuous(\n  labels = percent_format(accuracy = 0.1),\n  breaks = c(0, 0.0025, 0.005, 0.0075, 0.01)  # adjust as you like\n) +\n  labs(\n    title = \"Percent of Missing Values by Variable (Sector ETFs)\",\n    x = \"\",\n    y = \"% of rows missing\"\n  ) +\n  theme_minimal(base_size = 12)\n\n\n\n\n\n\n\n\n\n\n\nCode\nlibrary(ggplot2)\nlibrary(forcats)\nlibrary(scales)\n\n## Movie/media missingness\nggplot(missing_summary_media,\n       aes(x = fct_reorder(variable, prop_missing),\n           y = prop_missing)) +\n  geom_col(fill = \"steelblue\") +\n  coord_flip() +\n  scale_y_continuous(\n  labels = percent_format(accuracy = 0.1),\n  breaks = c(0, 0.0025, 0.005, 0.0075, 0.01)  # adjust as you like\n) +\n  labs(\n    title = \"Percent of Missing Values by Variable (Movie/Media)\",\n    x = \"\",\n    y = \"% of rows missing\"\n  ) +\n  theme_minimal(base_size = 12)",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Data</span>"
    ]
  },
  {
    "objectID": "results.html",
    "href": "results.html",
    "title": "3  Results",
    "section": "",
    "text": "3.1 How Moviegoing in the U.S. Has Shifted Since the Pandemic",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Results</span>"
    ]
  },
  {
    "objectID": "results.html#how-moviegoing-in-the-u.s.-has-shifted-since-the-pandemic",
    "href": "results.html#how-moviegoing-in-the-u.s.-has-shifted-since-the-pandemic",
    "title": "3  Results",
    "section": "",
    "text": "3.1.1 Chart 1. U.S. Theatrical Box Office Revenue by Year\n\n\nCode\n# --- Load Box Office Data ---\nlibrary(tidyverse)\nbox_office &lt;- read_csv(\"data/box_office.csv\", show_col_types = FALSE)\nlibrary(ggplot2)\nlibrary(scales)\n\nggplot(box_office, aes(x = Year, y = Domestic_BoxOffice)) +\n  geom_line(linewidth = 1) +\n  geom_point(size = 2) +\n  scale_y_continuous(\n    limits = c(0, NA),\n    breaks = seq(0, 12e9, by = 2e9),\n    labels = label_dollar(scale = 1e-9, suffix = \"B\", accuracy = 1)\n  ) +\n  scale_x_continuous(\n    breaks = pretty(box_office$Year, n = 10),\n    minor_breaks = NULL\n  ) +\n  labs(\n    title = \"U.S. Theatrical Box Office Revenue by Year\",\n    subtitle = \"Pre-COVID peak, COVID collapse, and incomplete recovery\",\n    x = \"Year\",\n    y = \"Domestic Box Office (USD, billions)\"\n  ) +\n  theme_minimal(base_size = 14) +\n  theme(\n    panel.background = element_rect(fill = \"white\", color = NA),\n    plot.background = element_rect(fill = \"white\", color = NA)\n  )\n\n\n\n\n\n\n\n\n\nBox office revenues have climbed steadily from the 2020 low. However, rather than returning to their earlier levels, the total box office revenues appear to be settling into a lower range than before the pandemic.\n\n\n3.1.2 Chart 2. Number of Theatrical Releases per Year\n\n\nCode\nggplot(box_office, aes(Year, Releases)) +\n  geom_col(fill = \"#4C72B0\") +\n  labs(\n    title = \"Number of Theatrical Releases per Year\",\n    subtitle = \"Industry output remains lower than pre-COVID\",\n    x = \"Year\",\n    y = \"Number of Releases\"\n  ) +\n  scale_x_continuous(\n    breaks = pretty(box_office$Year, n = 10),\n    minor_breaks = NULL\n  ) +\n  theme_minimal(base_size = 14) +\n  theme(\n    panel.background = element_rect(fill = \"white\", color = NA),\n    plot.background  = element_rect(fill = \"white\", color = NA),\n    panel.grid.minor = element_blank()\n  )\n\n\n\n\n\n\n\n\n\nThe number of theatrical releases dropped sharply in 2020 and remained below pre-pandemic levels. This indicates that studios have reduced their annual output, releasing fewer films than before—likely reflecting shifts in production and distribution strategies.\n\n\n3.1.3 Chart 3. Change in AMC Theatres by State (2019–2024)\n\n\nCode\nlibrary(readxl)\nlibrary(dplyr)\nlibrary(stringr)\nlibrary(sf)\nlibrary(ggplot2)\nlibrary(scales)\n\n## 1. Read AMC tables -------------------------------------------------------\n\namc_2019 &lt;- read_excel(\n  \"data/AMC_theatres_screens_by_market_2019.xlsx\",\n  sheet = 1\n) |&gt;\n  rename(\n    state    = `U.S. Markets`,\n    theatres = Theatres,\n    screens  = Screens\n  ) |&gt;\n  mutate(state = str_trim(state))\n\namc_2024 &lt;- read_excel(\n  \"data/AMC_theatres_screens_by_market_2024.xlsx\",\n  sheet = 1\n) |&gt;\n  rename(\n    state    = `U.S. Markets`,\n    theatres = Theatres,\n    screens  = Screens\n  ) |&gt;\n  mutate(state = str_trim(state))\n\n## 2. Read shapefile + keep only contiguous U.S. ---------------------------\n\nstates_sf &lt;- st_read(\"data/cb_2018_us_state_20m/cb_2018_us_state_20m.shp\")\n\n\nReading layer `cb_2018_us_state_20m' from data source \n  `C:\\Users\\admins\\OneDrive\\Desktop\\EDAV\\movie-stocks\\data\\cb_2018_us_state_20m\\cb_2018_us_state_20m.shp' \n  using driver `ESRI Shapefile'\nSimple feature collection with 52 features and 9 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: -179.1743 ymin: 17.91377 xmax: 179.7739 ymax: 71.35256\nGeodetic CRS:  NAD83\n\n\nCode\nstates_sf_conus &lt;- states_sf |&gt;\n  filter(!STUSPS %in% c(\"AK\", \"HI\", \"PR\", \"GU\", \"VI\", \"AS\", \"MP\")) |&gt;\n  mutate(state = NAME)\n\n# vector of valid state names (lower 48 + DC)\nvalid_states &lt;- states_sf_conus$state\n\n## 3. Filter AMC tables to states in shapefile -----------------------------\n\namc_2019_clean &lt;- amc_2019 |&gt;\n  filter(state %in% valid_states)\n\namc_2024_clean &lt;- amc_2024 |&gt;\n  filter(state %in% valid_states)\n\n## 4. Compute changes ------------------------------------------------------\n\nstate_changes &lt;- amc_2019_clean |&gt;\n  select(\n    state,\n    theatres_2019 = theatres,\n    screens_2019  = screens\n  ) |&gt;\n  inner_join(\n    amc_2024_clean |&gt;\n      select(\n        state,\n        theatres_2024 = theatres,\n        screens_2024  = screens\n      ),\n    by = \"state\"\n  ) |&gt;\n  mutate(\n    theatres_change     = theatres_2024 - theatres_2019,\n    theatres_pct_change = (theatres_2024 - theatres_2019) / theatres_2019,\n    screens_change      = screens_2024 - screens_2019,\n    screens_pct_change  = (screens_2024 - screens_2019) / screens_2019\n  )\n\n## 5. Join back to shapefile for mapping -----------------------------------\n\nmap_data &lt;- states_sf_conus |&gt;\n  left_join(state_changes, by = \"state\")\n\n\n\n\nCode\nlibrary(ggplot2)\nlibrary(scales)\n\nggplot(map_data) +\n  geom_sf(aes(fill = theatres_pct_change),\n          color = \"white\", size = 0.2) +\n  # zoom to lower 48 + DC\n  coord_sf(xlim = c(-125, -66), ylim = c(24, 50), expand = FALSE) +\n  scale_fill_gradient2(\n    name   = \"Percent change\\nin theatres\",\n    labels = percent_format(accuracy = 1),\n    low    = \"#b2182b\",   # more negative (closures)\n    mid    = \"white\",\n    high   = \"#2166ac\",   # more positive (growth)\n    midpoint = 0\n  ) +\n  labs(\n    title    = \"Change in AMC Theatres by State (2019–2024)\",\n    subtitle = \"Percent change in number of theatres\",\n    caption  = \"Source: AMC U.S. Markets Theatres & Screens tables, 2019 vs 2024\"\n  ) +\n  theme_minimal(base_size = 14) +\n  theme(\n    panel.grid.major = element_blank(),\n    panel.grid.minor = element_blank(),\n    axis.title = element_blank()\n  )",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Results</span>"
    ]
  },
  {
    "objectID": "results.html#while-most-u.s.-sectors-recovered-strongly-post-covid-the-movie-industry-lags-behind",
    "href": "results.html#while-most-u.s.-sectors-recovered-strongly-post-covid-the-movie-industry-lags-behind",
    "title": "3  Results",
    "section": "3.2 2. While most U.S. sectors recovered strongly post-COVID, the movie industry lags behind",
    "text": "3.2 2. While most U.S. sectors recovered strongly post-COVID, the movie industry lags behind\n\n3.2.1 Chart 4. Movie Industry vs Major Sector ETFs (Rebased to 1)\n\n\nCode\n### --- Load & clean Media data ---\nmedia &lt;- read_csv(\"data/movie_media_clean.csv\", show_col_types = FALSE) |&gt;\n  mutate(Date = as.Date(Date))\n\n# --- Load & clean Sector ETFs ---\nsectors &lt;- read_csv(\"data/sector_etfs_clean.csv\", show_col_types = FALSE) |&gt;\n  mutate(Date = as.Date(Date))\n\n\n# Rebase each media company to 1\nmedia_rebased &lt;- media |&gt;\n  group_by(Ticker) |&gt;\n  arrange(Date, .by_group = TRUE) |&gt;\n  mutate(base = first(Adj_Close),\n         rebased = Adj_Close / base) |&gt;\n  ungroup()\n\n# Compute equal-weight average index\nmovie_index &lt;- media_rebased |&gt;\n  group_by(Date) |&gt;\n  summarize(\n    Movie_Index = mean(rebased, na.rm = TRUE)\n  )\n\nsectors_rebased &lt;- sectors |&gt;\n  group_by(Ticker, Sector) |&gt;\n  arrange(Date, .by_group = TRUE) |&gt;\n  mutate(\n    base = first(`Adj Close`),\n    rebased = `Adj Close` / base\n  ) |&gt;\n  ungroup()\n\n# Sector ETF index\nsector_index &lt;- sectors_rebased |&gt;\n  select(Date, Sector, rebased)\n\n# Movie Index needs a pseudo \"Sector\" label\nmovie_index2 &lt;- movie_index |&gt;\n  mutate(Sector = \"Movie Industry\")\n\ncombined &lt;- bind_rows(\n  sector_index,\n  movie_index2 |&gt; mutate(rebased = Movie_Index)\n)\n\n\n\n\nCode\nlibrary(dplyr)\nlibrary(ggplot2)\nlibrary(scales)\n\ncombined2 &lt;- combined  # same data as before\n\nggplot() +\n  # 1. All other sectors: normal colors, thinner, slightly transparent\n  geom_line(\n    data = combined2 |&gt; filter(Sector != \"Movie Industry\"),\n    aes(x = Date, y = rebased, colour = Sector),\n    linewidth = 0.6,\n    alpha = 0.6\n  ) +\n  # 2. Movie industry: bold red, thicker\n  geom_line(\n    data = combined2 |&gt; filter(Sector == \"Movie Industry\"),\n    aes(x = Date, y = rebased, colour = Sector),\n    linewidth = 1.6\n  ) +\n  scale_color_manual(\n    values = c(\n      \"Consumer Staples\" = \"#bc80bd\",\n      \"Energy\"           = \"#ff7f00\",\n      \"Financials\"       = \"#1f78b4\",\n      \"Health Care\"      = \"#33a02c\",\n      \"Industrials\"      = \"#6a3d9a\",\n      \"Movie Industry\"   = \"#d73027\",   # bold red highlight\n      \"S&P 500\"          = \"black\",\n      \"Technology\"       = \"#ffd92f\"\n    ),\n    name = \"Sector / Industry\"\n  ) +\n  scale_y_log10(\n    breaks = c(0.5, 1, 2, 3, 5),\n    labels = c(\"0.5x\", \"1x\", \"2x\", \"3x\", \"5x\")\n  ) +\n  scale_x_date(\n    date_breaks = \"1 year\",\n    date_labels = \"%Y\"\n  ) +\n  labs(\n    title = \"Movie Industry vs Major Sector ETFs (Rebased to 1)\",\n    subtitle = \"Movie industry index highlighted against major sector ETFs (log scale)\",\n    x = \"Date\",\n    y = \"Rebased price (log scale)\"\n  ) +\n  theme_minimal(base_size = 14) +\n  theme(\n    panel.background = element_rect(fill = \"white\", color = NA),\n    plot.background  = element_rect(fill = \"white\", color = NA),\n    panel.grid.minor = element_blank(),\n    legend.position = \"right\"\n  )\n\n\n\n\n\n\n\n\n\nThe movie industry index is an equal-weighted average of rebased stock prices of companies in our movie_media_clean.csv dataset. From 2019- 2025, the Technology industry showed the strongest overall gains, while the energy industry displayed the greatest volatility. The movie industry performed relatively well through late 2020 to 2022. Post-2022, the movie industry lagged behind most sectors, indicating a slower and less consistent recovery than the market as a whole.\n\n\n3.2.2 Chart 5. Stock Price Performance of Movie Companies From 2019–2025\n\n\nCode\nlibrary(dplyr)\n\nmedia_rebased &lt;- media |&gt;\n  group_by(Ticker) |&gt;\n  arrange(Date, .by_group = TRUE) |&gt;\n  mutate(\n    base    = first(Adj_Close),\n    rebased = Adj_Close / base,\n    ret     = log(rebased / dplyr::lag(rebased))  # daily log return\n  ) |&gt;\n  ungroup()\n\nvol_df &lt;- media_rebased |&gt;\n  group_by(Ticker) |&gt;\n  summarize(\n    vol = sd(ret, na.rm = TRUE),\n    .groups = \"drop\"\n  ) |&gt;\n  arrange(desc(vol))\n\n# Choose top 3 most volatile tickers\nhighlight_tickers &lt;- vol_df$Ticker[1:3]\nhighlight_tickers\n\n\n[1] \"AMC\"  \"ROKU\" \"CNK\" \n\n\n\n\nCode\nlibrary(ggplot2)\nlibrary(scales)\nlibrary(dplyr)\n\n# 1. Which tickers do we want to highlight?\nhighlight_tickers    &lt;- highlight_tickers          # your top 3 volatile\nhighlight_all        &lt;- c(highlight_tickers, \"^GSPC\")\n\n# Optional: nicer label for S&P\nmedia_rebased &lt;- media_rebased |&gt;\n  mutate(Ticker_label = if_else(Ticker == \"^GSPC\", \"S&P 500\", Ticker))\n\nggplot() +\n  # --- Background: all other tickers in grey ---\n  geom_line(\n    data = media_rebased |&gt; filter(!Ticker %in% highlight_all),\n    aes(x = Date, y = rebased, group = Ticker),\n    color = \"grey80\",\n    linewidth = 0.5,\n    alpha = 0.7\n  ) +\n  # --- Highlight: top 3 most volatile tickers ---\n  geom_line(\n    data = media_rebased |&gt; filter(Ticker %in% highlight_tickers),\n    aes(x = Date, y = rebased, color = Ticker_label),\n    linewidth = 1.4\n  ) +\n  # --- Highlight: S&P 500 (black line) ---\n  geom_line(\n    data = media_rebased |&gt; filter(Ticker == \"^GSPC\"),\n    aes(x = Date, y = rebased, color = Ticker_label),\n    linewidth = 1.4\n  ) +\n  # manual colors: black for S&P, Dark2 for the 3 volatile names\n  scale_color_manual(\n    name   = \"Highlighted tickers\",\n    values = c(\n      \"S&P 500\" = \"black\",\n      RColorBrewer::brewer.pal(length(highlight_tickers), \"Dark2\") |&gt;\n        setNames(highlight_tickers)\n    )\n  ) +\n  scale_y_log10(\n    breaks = c(0.1, 0.2, 0.5, 1, 2, 5, 10),\n    labels = c(\"0.1x\", \"0.2x\", \"0.5x\", \"1x\", \"2x\", \"5x\", \"10x\")\n  ) +\n  scale_x_date(\n    date_breaks = \"1 year\",\n    date_labels = \"%Y\"\n  ) +\n  labs(\n    title = \"Stock Price Performance of Movie Companies From 2019–2025\",\n    subtitle = \"Top 3 most volatile tickers and the S&P 500 highlighted; prices rebased to 1 at first date\",\n    x = \"Date\",\n    y = \"Rebased price (log scale)\"\n  ) +\n  theme_minimal(base_size = 12) +\n  theme(\n    panel.background = element_rect(fill = \"white\", color = NA),\n    plot.background  = element_rect(fill = \"white\", color = NA),\n    panel.grid.minor = element_blank()\n  )\n\n\n\n\n\n\n\n\n\nThis chart shows that two companies drove much of the volatility in the movie industry, helping explain the sector’s brief strength from late 2020 to 2022 (see chart 4). For example, Roku’s share price rose sharply in 2020, corresponding to higher streaming usage during stay-at-home conditions. AMC experienced large price swings in early 2021. This was due to the “meme-stock” trading frenzy driven by movements from the reddit group wallstreetbets. These movements stood out from the rest of the movie industry. However, in 2022, both ROKU and AMC collapsed— revealing these were temporary movements rather than sustained industry/company strength.\n\n\n3.2.3 Chart 6. Sector Cumulative Performance Since 2019\n\n\nCode\nlibrary(dplyr)\nlibrary(ggplot2)\nlibrary(forcats)\nlibrary(scales)\n\n# 1) Get final rebased level for each Sector\nfinal_perf &lt;- combined |&gt;\n  arrange(Sector, Date) |&gt;\n  group_by(Sector) |&gt;\n  filter(!is.na(rebased)) |&gt;\n  slice_tail(n = 1) |&gt;\n  ungroup() |&gt;\n  transmute(\n    Sector,\n    multiple = rebased   # how many times the 2019 starting value\n  ) |&gt;\n  mutate(\n    Sector = fct_reorder(Sector, multiple),\n    is_movie = (Sector == \"Movie Industry\"),\n    label = paste0(\"×\", round(multiple, 1))\n  )\n\nggplot(final_perf, aes(x = Sector, y = multiple, fill = is_movie)) +\n  geom_col() +\n  geom_text(\n    aes(label = label),\n    hjust = -0.1,\n    size = 3\n  ) +\n  coord_flip(clip = \"off\") +\n  scale_fill_manual(\n    values = c(\"FALSE\" = \"grey70\", \"TRUE\" = \"#d73027\"),\n    guide = \"none\"\n  ) +\n  scale_y_continuous(\n    expand = expansion(mult = c(0, 0.15))\n  ) +\n  labs(\n    title = \"Sector Cumulative Performance Since 2019\",\n    subtitle = \"Each bar shows final rebased level (2019 = 1)\",\n    x = \"\",\n    y = \"Rebased level (× starting value)\"\n  ) +\n  theme_minimal(base_size = 12) +\n  theme(\n    plot.margin = margin(5.5, 40, 5.5, 5.5)\n  )\n\n\n\n\n\n\n\n\n\nThis bar chart compares how much each major U.S. sector and the movie industry have grown since 2019 (in “× starting value” terms), highlighting that the movie industry’s cumulative performance has lagged behind most other sectors.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Results</span>"
    ]
  },
  {
    "objectID": "results.html#performance-of-sub-industries-within-the-movie-industry-differ",
    "href": "results.html#performance-of-sub-industries-within-the-movie-industry-differ",
    "title": "3  Results",
    "section": "3.3 3. Performance of sub-industries within the movie industry differ",
    "text": "3.3 3. Performance of sub-industries within the movie industry differ\n\n3.3.1 Chart 7. Faceted Sub-Industry in Movie Industry Performance\n\n\nCode\nlibrary(dplyr)\nlibrary(ggplot2)\nlibrary(scales)\n\n# 1. Rebase each ticker\nmedia_rebased &lt;- media |&gt;\n  filter(!is.na(Adj_Close)) |&gt;\n  group_by(Ticker, SubIndustry) |&gt;\n  arrange(Date, .by_group = TRUE) |&gt;\n  mutate(\n    base    = first(Adj_Close),\n    rebased = Adj_Close / base\n  ) |&gt;\n  ungroup()\n\n# 2. Equal-weighted average within each sub-industry by date\nsub_avg &lt;- media_rebased |&gt;\n  group_by(SubIndustry, Date) |&gt;\n  summarize(\n    rebased_avg = mean(rebased, na.rm = TRUE),\n    .groups = \"drop\"\n  )\n\n# 3. Compute volatility of each sub-industry (based on log returns)\nsub_vol &lt;- sub_avg |&gt;\n  group_by(SubIndustry) |&gt;\n  arrange(Date, .by_group = TRUE) |&gt;\n  mutate(ret = log(rebased_avg / lag(rebased_avg))) |&gt;\n  summarize(\n    vol = sd(ret, na.rm = TRUE),\n    .groups = \"drop\"\n  ) |&gt;\n  arrange(desc(vol))\n\n# 4. Order facets from most to least volatile\nsub_avg &lt;- sub_avg |&gt;\n  mutate(SubIndustry = factor(SubIndustry, levels = sub_vol$SubIndustry))\n\n# 5. Plot: one average line per sub-industry, faceted\nggplot(sub_avg, aes(Date, rebased_avg)) +\n  geom_line(color = \"#2c7fb8\", linewidth = 1) +\n  facet_wrap(~ SubIndustry, ncol = 2) +\n  scale_y_log10(\n    breaks = c(0.25, 0.5, 1, 2, 4, 8),\n    labels = c(\"0.25x\", \"0.5x\", \"1x\", \"2x\", \"4x\", \"8x\")\n  ) +\n  scale_x_date( \n    date_breaks = \"1 year\", date_labels = \"%Y\" \n  ) +\n  labs(\n    title = \"Faceted Sub-Industry in Movie Industry Performance\",\n    subtitle = \"Equal-weighted average of rebased stock prices, ordered by volatility (log scale)\",\n    y = \"Average rebased price (log scale)\",\n    x = \"Date\"\n  ) +\n  theme_minimal(base_size = 14) +\n  theme(\n    panel.background = element_rect(fill = \"white\", color = NA),\n    plot.background  = element_rect(fill = \"white\", color = NA),\n    panel.grid.minor = element_blank(),\n    panel.grid.major = element_line(color = \"grey90\"),\n    strip.text = element_text(size = 14, face = \"bold\"),\n    panel.spacing = grid::unit(1.2, \"lines\"),\n    plot.title.position = \"plot\",\n    axis.text.x = element_text(size = 9)\n  )\n\n\n\n\n\n\n\n\n\nTheater companies and streamer companies exhibit the most volatility. Theater companies experienced a steep drop in stock price in 2020 followed by an uneven recovery. Streamers rise sharply through 2020–2021 before dropping significantly in 2022. Diversified media firms trend more steadily upward, while studios show a mild, gradual decline.\n\n\n3.3.2 Chart 8. Correlation Between Movie Sub-Industries (2015–2025)\n\n\nCode\nlibrary(dplyr)\nlibrary(tidyr)\nlibrary(ggplot2)\nlibrary(scales)\nlibrary(tibble)\n\n# --- Rebase, build subindustry index, make wide matrix ---\nmedia_rebased &lt;- media |&gt;\n  filter(!is.na(Adj_Close)) |&gt;\n  group_by(Ticker) |&gt;\n  arrange(Date, .by_group = TRUE) |&gt;\n  mutate(\n    base    = first(Adj_Close),\n    rebased = Adj_Close / base\n  ) |&gt;\n  ungroup()\n\nsubindustry_index &lt;- media_rebased |&gt;\n  group_by(Date, SubIndustry) |&gt;\n  summarize(SubIndex = mean(rebased, na.rm = TRUE), .groups = \"drop\")\n\norder_vec &lt;- c(\"Benchmark\", \"Streamer\", \"Diversified\", \"Studio\", \"Theater\")\n\nsub_wide &lt;- subindustry_index |&gt;\n  pivot_wider(names_from = SubIndustry, values_from = SubIndex) |&gt;\n  select(all_of(order_vec))\n\ncor_mat &lt;- cor(sub_wide, use = \"pairwise.complete.obs\")\n\ncor_long &lt;- cor_mat |&gt;\n  as.data.frame() |&gt;\n  rownames_to_column(\"Var1\") |&gt;\n  pivot_longer(cols = all_of(order_vec),\n               names_to = \"Var2\",\n               values_to = \"Correlation\") |&gt;\n  mutate(\n    Var1 = factor(Var1, levels = order_vec),\n    Var2 = factor(Var2, levels = order_vec)\n  )\n\n# --- Plot heatmap with better color scale ---\nggplot(cor_long, aes(Var1, Var2, fill = Correlation)) +\n  geom_tile(color = \"white\", linewidth = 0.4) +\n  geom_text(aes(label = round(Correlation, 2)), size = 3) +\n  scale_fill_gradient2(\n    low  = \"#2166ac\",   # blue for negative correlations\n    mid  = \"white\",     # zero\n    high = \"#b2182b\",   # red for positive correlations\n    midpoint = 0,\n    limits = c(min(cor_long$Correlation), 1),\n    name = \"Correlation\"\n  ) +\n  coord_fixed() +\n  labs(\n    title = \"Correlation Between Movie Sub-Industries (2015–2025)\",\n    subtitle = \"Diverging color scale centered at zero highlights negative vs. positive relationships\",\n    x = NULL, y = NULL\n  ) +\n  theme_minimal(base_size = 12) +\n  theme(\n    axis.text.x = element_text(angle = 45, hjust = 1),\n    panel.grid = element_blank(),\n    plot.title.position = \"plot\"\n  )\n\n\n\n\n\n\n\n\n\nDiversified companies and the overall market are the most closely aligned (0.84). Studios and theaters show moderate alignment (0.66). Streamers and studios also track each other fairly well (0.74). Theaters stand out as the outlier — their stock movements line up much less with the rest of the industry. This suggests that theater chains react to a different set of forces than streaming or diversified media firms.\n\n\n3.3.3 Chart 9. Density of Daily Returns by Sub-Industry (2019- 2025)\n\n\nCode\nlibrary(dplyr)\nlibrary(ggridges)\nlibrary(scales)\n\n# 1. Subindustry daily returns\nsub_daily &lt;- media |&gt;\n  filter(!is.na(return)) |&gt;\n  group_by(Date, SubIndustry) |&gt;\n  summarize(sub_ret = mean(return, na.rm = TRUE), .groups = \"drop\")\n\n# 2. Order subindustries by volatility (optional but nice)\nsub_order &lt;- sub_daily |&gt;\n  group_by(SubIndustry) |&gt;\n  summarize(sd_ret = sd(sub_ret, na.rm = TRUE), .groups = \"drop\") |&gt;\n  arrange(desc(sd_ret)) |&gt;\n  pull(SubIndustry)\n\nsub_daily &lt;- sub_daily |&gt;\n  mutate(SubIndustry = factor(SubIndustry, levels = sub_order))\n\n# 3. Ridgeline plot with less overlap\nggplot(sub_daily, aes(x = sub_ret, y = SubIndustry, fill = SubIndustry)) +\n  geom_density_ridges(alpha = 0.8, scale = 1.2) +  # smaller scale = less stacking\n  scale_x_continuous(\n    labels = percent,\n    limits = c(-0.08, 0.08)\n  ) +\n  labs(\n    title = \"Density of Daily Returns by Sub-Industry (2019- 2025)\",\n    subtitle = \"Zoomed in on typical daily moves (±8%)\",\n    x = \"Daily return\",\n    y = NULL\n  ) +\n  theme_minimal(base_size = 12) +\n  theme(\n    legend.position = \"none\",\n    panel.background = element_rect(fill = \"white\", color = NA)\n  )\n\n\n\n\n\n\n\n\n\nBenchmark and diversified firms have the lowest day-to-day volatility. Studios are in the middle. Streamers have larger tails, reflecting bigger daily moves during the period. Theater stocks are the most volatile, with the widest distribution and most frequent large positive and negative returns.\n\n\n3.3.4 Chart 10. How Movie/Media Stocks Move Across Performance Buckets Over Time\n\n\nCode\nlibrary(dplyr)\nlibrary(ggplot2)\nlibrary(ggalluvial)\nlibrary(lubridate)\nlibrary(forcats)\n\n# 1) Add regime labels -----------------------------------------------------\nmedia_regime &lt;- media |&gt;\n  mutate(\n    Date = as.Date(Date),\n    regime = case_when(\n      Date &lt; as.Date(\"2020-02-20\") ~ \"Pre-COVID\",\n      Date &gt;= as.Date(\"2020-02-20\") & Date &lt;= as.Date(\"2021-12-31\") ~ \"COVID & stimulus\",\n      Date &gt;= as.Date(\"2022-01-01\") & Date &lt;= as.Date(\"2022-12-31\") ~ \"Rate hikes / inflation\",\n      Date &gt;= as.Date(\"2023-01-01\") ~ \"AI / recent\",\n      TRUE ~ NA_character_\n    )\n  ) |&gt;\n  filter(!is.na(regime), !is.na(return))\n\n# 2) CUMULATIVE return per Ticker × SubIndustry × Regime ------------------\nregime_perf &lt;- media_regime |&gt;\n  group_by(Ticker, SubIndustry, regime) |&gt;\n  summarize(\n    cum_ret = prod(1 + return, na.rm = TRUE) - 1,  # (1+r1)*(1+r2)*... - 1\n    .groups = \"drop\"\n  )\n\n# 3) Bucket each ticker into Low / Mid / High within each regime ----------\nregime_buckets &lt;- regime_perf |&gt;\n  group_by(regime) |&gt;\n  mutate(\n    q1 = quantile(cum_ret, 0.33, na.rm = TRUE),\n    q2 = quantile(cum_ret, 0.67, na.rm = TRUE),\n    bucket = case_when(\n      cum_ret &lt;= q1 ~ \"Low\",\n      cum_ret &gt;= q2 ~ \"High\",\n      TRUE          ~ \"Mid\"\n    )\n  ) |&gt;\n  ungroup() |&gt;\n  mutate(\n    bucket = factor(bucket, levels = c(\"Low\", \"Mid\", \"High\"))\n  )\n\n# 4) Order regimes for the x-axis -----------------------------------------\nregime_levels &lt;- c(\"Pre-COVID\", \"COVID & stimulus\",\n                   \"Rate hikes / inflation\", \"AI / recent\")\n\nflow_df &lt;- regime_buckets |&gt;\n  filter(regime %in% regime_levels) |&gt;\n  mutate(\n    regime = factor(regime, levels = regime_levels)\n  )\n\n# 5) Alluvial plot: ticker flows between buckets across regimes -----------\nggplot(\n  flow_df,\n  aes(x = regime,\n      stratum = bucket,\n      alluvium = Ticker,\n      y = 1,\n      fill = SubIndustry)\n) +\n  geom_flow(stat = \"alluvium\",\n            lode.guidance = \"forward\",\n            color = \"grey50\",\n            alpha = 0.6) +\n  geom_stratum(color = \"black\") +\n  geom_text(\n    stat = \"stratum\",\n    aes(label = after_stat(stratum)),\n    size = 3,\n    color = \"black\"\n  ) +\n  scale_y_continuous(expand = c(0, 0)) +\n  labs(\n    title = \"How Movie/Media Stocks Move Across Performance Buckets Over Time\",\n    subtitle = \"Each stream is a ticker; Low / Mid / High based on cumulative return in each regime\",\n    x = \"Regime\",\n    y = \"Number of tickers\",\n    fill = \"Subindustry\"\n  ) +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\n\n\nCode\nlibrary(dplyr)\nlibrary(ggplot2)\nlibrary(scales)\n\nregime_order &lt;- c(\"Pre-COVID\",\n                  \"COVID & stimulus\",\n                  \"Rate hikes / inflation\",\n                  \"AI / recent\")\n\nregime_sub &lt;- media_regime |&gt;\n  group_by(SubIndustry, regime) |&gt;\n  summarize(\n    cum_ret = prod(1 + return, na.rm = TRUE) - 1,\n    .groups = \"drop\"\n  ) |&gt;\n  mutate(\n    regime = factor(regime, levels = regime_order)\n  )\n\nggplot(regime_sub,\n       aes(x = regime, y = cum_ret, fill = SubIndustry)) +\n  geom_col(position = \"dodge\") +\n  scale_y_continuous(labels = percent) +\n  labs(\n    title = \"Cumulative Return by Subindustry and Regime\",\n    subtitle = \"COVID & stimulus period supercharged streamers; theaters lag in later regimes\",\n    x = \"\",\n    y = \"Cumulative return in regime\"\n  ) +\n  theme_minimal() +\n  theme(axis.text.x = element_text(angle = 30, hjust = 1))\n\n\n\n\n\n\n\n\n\n\n\nCode\n# 1) Movie industry equal-weight price index (use Adj_Close, not rebased)\nmovie_index &lt;- media |&gt;\n  filter(SubIndustry != \"Benchmark\") |&gt;\n  group_by(Date) |&gt;\n  summarize(\n    movie_price = mean(Adj_Close, na.rm = TRUE),\n    .groups = \"drop\"\n  )\n\n# 2) S&P 500\nsp &lt;- media |&gt;\n  filter(Ticker == \"^GSPC\") |&gt;\n  select(Date, sp_price = Adj_Close)\n\n# 3) Netflix\nnflx &lt;- media |&gt;\n  filter(Ticker == \"NFLX\") |&gt;\n  select(Date, nflx_price = Adj_Close)\n\n# 4) Align dates and rebase all three to 1 at common start\nall3 &lt;- movie_index |&gt;\n  inner_join(sp, by = \"Date\") |&gt;\n  inner_join(nflx, by = \"Date\") |&gt;\n  arrange(Date)\n\nbase_movie &lt;- first(all3$movie_price)\nbase_sp    &lt;- first(all3$sp_price)\nbase_nflx  &lt;- first(all3$nflx_price)\n\nrelative_long &lt;- all3 |&gt;\n  mutate(\n    `Movie Industry` = movie_price / base_movie,\n    `S&P 500`        = sp_price    / base_sp,\n    `Netflix`        = nflx_price  / base_nflx\n  ) |&gt;\n  select(Date, `Movie Industry`, `S&P 500`, `Netflix`) |&gt;\n  pivot_longer(\n    cols = -Date,\n    names_to = \"Series\",\n    values_to = \"rebased\"\n  )\n\nggplot(relative_long, aes(Date, rebased, color = Series)) +\n  geom_line(linewidth = 1) +\n  scale_y_log10() +\n  labs(\n    title = \"Netflix vs Movie Industry vs S&P 500 (Rebased)\",\n    subtitle = \"Netflix tracks the broad market more closely than the struggling movie industry\",\n    x = \"Date\",\n    y = \"Rebased Price (log scale)\",\n    color = \"\"\n  ) +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\n\n\nCode\nlibrary(dplyr)\nlibrary(ggplot2)\n\nfocus_tickers &lt;- c(\"NFLX\", \"ROKU\", \"AMC\", \"DIS\", \"^GSPC\")\n\nmedia_focus &lt;- media |&gt;\n  filter(Ticker %in% focus_tickers, !is.na(Adj_Close)) |&gt;\n  group_by(Ticker) |&gt;\n  arrange(Date, .by_group = TRUE) |&gt;\n  mutate(\n    base    = first(Adj_Close),\n    rebased = Adj_Close / base\n  ) |&gt;\n  ungroup()\n\nggplot(media_focus,\n       aes(x = Date, y = rebased, color = Ticker)) +\n  geom_line(linewidth = 0.9, alpha = 0.9) +\n  scale_y_log10() +\n  labs(\n    title = \"Rebased Performance of Selected Movie/Media Stocks\",\n    subtitle = \"Each ticker rebased to 1 at its first non-missing price (log scale)\",\n    x = \"Date\",\n    y = \"Rebased price (log scale)\"\n  ) +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\n\n\nCode\nlibrary(dplyr)\nlibrary(ggplot2)\nlibrary(scales)\n\n# compute metrics for the same tickers\nstock_stats &lt;- media |&gt;\n  filter(Ticker %in% focus_tickers, !is.na(return)) |&gt;\n  group_by(Ticker) |&gt;\n  arrange(Date, .by_group = TRUE) |&gt;\n  mutate(\n    rebased   = cumprod(1 + return),          # grows from 1\n    roll_max  = cummax(rebased),\n    drawdown  = rebased / roll_max - 1\n  ) |&gt;\n  summarize(\n    cum_ret      = last(rebased) - 1,\n    ann_ret      = (1 + mean(return, na.rm = TRUE))^252 - 1,\n    ann_vol      = sd(return, na.rm = TRUE) * sqrt(252),\n    max_drawdown = min(drawdown, na.rm = TRUE),\n    .groups = \"drop\"\n  )\n\nstock_stats\n\n\n# A tibble: 5 × 5\n  Ticker cum_ret ann_ret ann_vol max_drawdown\n  &lt;chr&gt;    &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;        &lt;dbl&gt;\n1 AMC    -0.979   0.438    1.66        -0.997\n2 DIS    -0.0134  0.0507   0.321       -0.607\n3 NFLX    3.02    0.344    0.427       -0.759\n4 ROKU    1.98    0.503    0.710       -0.919\n5 ^GSPC   1.73    0.180    0.200       -0.339\n\n\n\n\nCode\nggplot(stock_stats,\n       aes(x = Ticker, y = max_drawdown)) +\n  geom_col() +\n  scale_y_continuous(labels = percent) +\n  labs(\n    title = \"Max Drawdown for Selected Stocks\",\n    x = \"\",\n    y = \"Max drawdown from prior peak\"\n  ) +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\n\n\nCode\nlibrary(dplyr)\nlibrary(ggplot2)\nlibrary(scales)\n\nregime_order &lt;- c(\"Pre-COVID\",\n                  \"COVID & stimulus\",\n                  \"Rate hikes / inflation\",\n                  \"AI / recent\")\n\nregime_focus &lt;- media_regime |&gt;\n  filter(Ticker %in% focus_tickers,\n         !is.na(return),\n         !is.na(regime)) |&gt;\n  group_by(Ticker, regime) |&gt;\n  summarize(\n    cum_ret = prod(1 + return, na.rm = TRUE) - 1,\n    .groups = \"drop\"\n  ) |&gt;\n  mutate(\n    regime = factor(regime, levels = regime_order)\n  )\n\nggplot(regime_focus,\n       aes(x = regime, y = cum_ret, fill = Ticker)) +\n  geom_col(position = \"dodge\") +\n  scale_y_continuous(labels = percent) +\n  labs(\n    title = \"Cumulative Return by Regime for Selected Stocks\",\n    x = \"\",\n    y = \"Cumulative return in regime\"\n  ) +\n  theme_minimal() +\n  theme(axis.text.x = element_text(angle = 30, hjust = 1))",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Results</span>"
    ]
  }
]